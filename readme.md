# USD 환율 가격 예측 모형

### 1. Data Loading

- **1.1 Sliding Window Dataset**

  - **1.1.1** 시계열 데이터의 경우 장기간의 데이터를 사용하는 것보다 **영향력이 더 강한 최근 데이터**만 사용하여 모델을 만드는 것이 더 성능이 좋음.'
  - **1.1.2** 모델의 **일반화(Generalization)** 확보를 위해서 각 월별로 1개의 모델, 총 12개의 모델을 생성

    ![figure](./figure/figure01.png)

- **1.2 Train & Valid & Test**
  
  - **1.2.1** 각 Dataset 별로 앞에서부터 **11개월간을 Train**으로 사용하고, **12번째 월은 Valid**로 사용, 마지막 **13번째 열은 Test**로 사용한다.
  - **1.2.1** Train : Valid : Test = 84 : 8 : 8

<br><br>

### 2. EDA

- **2.1 기대 이익 (2019년 2월 ~ 2020년 1월 기간 동안)** 
  - **2.1.1** **매일 1달러씩** 매입하였을 때 비용은 ***285,334원***
  - **2.1.2** **1년 중 최저가로  245 달러**를 매입하였을 때 비용은 ***272,342원***, 이 때의 수익률은 **4.55%**
  - **2.1.3** **매월 최저가로  245 달러**를 매입하였을 때 비용은 ***282,634원***, 이 때의 수익률은 **0.95%**

<br><br>

### 3. Model 1 : Deep Neural Network
- **3.1 모델 설명**
   - **3.1.1** Keras를 활용하여 2층 구조의 DNN 모델 설계.
   - **3.1.2** Overfitting 방지를 위해서, 2개의 층만 설정, L1, L2 규제 사용, Dropout(0.5)
   - **3.1.3** 활성화함수 : ReLU, Loss : RMSE, Epoch : 300, batch_size : 300
  
- **3.2 모델 코드**
  - **3.2.1** Set1만 돌렸을 때의 코드 **-> [Set1 Code](https://github.com/ajskdlf64/Exchange-Rate-Point-Search/blob/master/Code/02.%20DNN%20Set1.ipynb)**
  - **3.2.2** Set1 ~ Set12를 모두 돌렸을 때의 코드 **-> [Set1 ~ Set12 Code](https://github.com/ajskdlf64/Exchange-Rate-Point-Search/blob/master/Code/03.%20DNN%20Set1%20_%20Set12.ipynb)**
  - **3.2.3** Model 최적화 진행 코드 **-> [Model Optimization](https://github.com/ajskdlf64/Exchange-Rate-Point-Search/blob/master/Code/04.%20DNN%20Set1%20_%20Set12%20(Parameter%20Setting).ipynb)**
  
 - **3.3 결과 요약**
   - **3.3.1** 12개의 Dataset(1년,255일)을 예측하기 위해 필요한 ***Model Service 시간은 약 40초 (1set 당 약 3초)***
   - **3.3.2** 1일 뒤의 상승,하락을 예측하는 경우 ***1년 평균 80%의 정확도***를 보이고 있음.
   - **3.3.3** 그러나, 1년간 매입 시뮬레이션으로 돌릴 경우, ***-1% ~ +1%의 원가 절감***이 기대됨. 그러나 모델이 너무 불안정하다는 단점이 있음.(시뮬레이션 진행마다 결과의 편차가 큼)
   - **3.3.4** 확실한 수익을 얻기 위해서는 매수 시점 탐색뿐만 아니라, 매도 시점 탐색을 위한 모델도 필요함. -> ***적절한 매수, 매도가 진행되어야지만 확실한 수익이 보장.***
  
  <br><br>

### 4. Model 2 : Recurrent Neural Network (LSTM, GRU)
- **4.1 모델 설명**
   - 4.1.1 가나다라마바사
   - 4.1.2 가나다라마바사
   - 4.1.3 가나다라마바사
  
- **4.2 결과 요약**
  - 4.2.1 가나다라마바사
  - 4.2.2 가나다라마바사
  
  
  ### 참고사항
   - 모델 안정성 확보를 위해 시뮬레이션 100번 진행, 1번당 약 3분 -> 100번 약 300분, 5시간
   - LSTM, GRU도 함께 고려...
   - 하이퍼 파라미터 그리드 서치
   - 지금은 과거 5일치만 -> 좀 더 늘려볼까...?
